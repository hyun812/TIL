## 실행 컨텍스트

- 소스코트를 실행하는데 필요한 환경을 제공하고 코드의 실행결과를 실제로 관리하는 영역

- `식별자`와 `스코프`는 실행 컨텍스트의 `렉시컬 환경`으로 관리

- `코드 실행 순서`는 실행 컨텍스트의 `실행 컨텍스트 스택`으로 관리

- 실행 컨텍스트의 `최상위`에 존재하는 실행 컨텍스트는 항상 `실행중인 컨텍스트`

<br/>

> 실행 컨텍스트에서 제거되었다 하더라도 렉시컬 환경이 즉시 소멸하는 것은 아님.
> 누군가에 의해 참조되지 않을 때 가비지 컬렉터에 의해 소멸

<br/>

## 렉시컬 환경

- **환경 레코드**와 **외부 렉시컬 환경에 대한 참조**로 구성

<br/>

### 환경 레코드

- 스코프에 포함된 식별자를 관리하고 등록된 식별자에 바인딩된 값을 관리

<br/>

### 외부 렉시컬 환경에 대한 참조

- 상위 스코프 (해당 실행 컨텍스트를 생성한 상위 렉시컬 환경)

- 이를 통해 단방향 링크스 리스트인 스코프 체인을 구현

- **함수를 어디에 정의했는지**에 따라 상위 스코프를 결정

<br/>

## 동작 과정

1. 실행 컨텍스트 생성

2. (전역, 함수, 블록) 렉시컬 환경 생성

   2.1. (전역, 함수, 블록) 환경 레코드 생성

   2.2. this 바인딩

   2.3. 외부 렉시컬 환경에 대한 참조 결정

<br/>

### 전역 환경 레코드

> 전역 환경 레코드의 경우 **객체 환경 레코드**와 **선언적 환경 레코드**로 구분됨

#### 객체 환경 레코드

- 전역 코드 평가 과정에서 BindingObject에 전역 객체의 프로퍼티와 메서드를 바인딩
- 가능한 것
  - var 키워드로 선언한 전역 변수
  - 함수 선언문으로 정의한 전역 함수
  - 빌트인 전역 프로퍼티와 빌트인 전역함수
  - 표준 필트인

#### 선언적 환경 레코드

- let, const 키워드로 선언한 전역 변수를 관리
